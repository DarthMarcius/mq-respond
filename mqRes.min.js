window.mqRes=function(t){this.status={},this.watchers=[],this.matchMedia=[],this.mediaQueries=t||null,this.labels=[],this.callbacks=[],this.isMediaAttached=!1,this.init(t)},window.mqRes.prototype={init:function(t){if(this.mediaQueries=t,!this.mediaQueries)throw"mqRes first argument should be array with media queries object!!!!";this.attachMedia(this.mediaQueries)},attachMedia:function(t){var i=this;i.isMediaAttached&&i.watchers.forEach(function(t){t.removeListener(i.responseMedia.bind(i))}),t.forEach(function(t){var e,a="";void 0!==t.from&&(a+="(min-width: "+t.from+"px)"),void 0!==t.to&&(void 0!==t.from?a+=" and (max-width: "+t.to+"px)":a+="(max-width: "+t.to+"px)"),i.watchers.push(window.matchMedia(a)),e=i.watchers.length-1,i.labels.push({label:t.label,media:i.watchers[e].media}),i.responseMedia(i.watchers[e]),i.watchers[e].addListener(i.responseMedia.bind(i))}),this.isMediaAttached=!0},responseMedia:function(t,i){var e=this,a=e.getMatchingLabel(t);t.matches?a&&(e.status[a]=!0):a&&(e.status[a]=!1),t.matches&&setTimeout(function(){i?i(e.status):e.callbacks.forEach(function(t){t(e.status)})},10)},getMatchingLabel:function(t){var i=!1;return this.labels.forEach(function(e){e.media===t.media&&(i=e.label)}),i},add:function(t){if("function"!=typeof t)throw"callback must be a function";if(!this.mediaQueries.length)throw"media queries list is not set, please set it and try again";this.watchers.forEach(function(i){this.responseMedia(i,t)}.bind(this)),this.callbacks.push(t)}};